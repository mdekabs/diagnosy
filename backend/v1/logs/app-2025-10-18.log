2025-10-18 08:38:03 AM INFO: Starting application in development environment 
2025-10-18 08:38:03 AM INFO: MongoDB connected 
2025-10-18 08:38:03 AM INFO: Redis client initialized 
2025-10-18 08:38:03 AM INFO: Redis connected 
2025-10-18 08:38:03 AM INFO: Swagger UI available at /api-docs 
2025-10-18 08:38:03 AM INFO: Express server initialized 
2025-10-18 08:38:03 AM INFO: Server is running on port 3000 
2025-10-18 08:44:50 AM INFO: User logged in: 68f0d0caa420a41b12d89efb 
2025-10-18 08:44:50 AM INFO: POST /api/auth/login 200 217ms 
{
  "req": {
    "url": "/api/auth/login",
    "headers": {
      "content-type": "application/json",
      "user-agent": "PostmanRuntime/7.49.0",
      "accept": "*/*",
      "postman-token": "81e2c4b8-0812-4737-9f58-19cd86a2b665",
      "host": "localhost:3000",
      "accept-encoding": "gzip, deflate, br",
      "connection": "keep-alive",
      "content-length": "60"
    },
    "method": "POST",
    "httpVersion": "1.1",
    "originalUrl": "/api/auth/login",
    "query": {}
  },
  "res": {
    "statusCode": 200
  },
  "responseTime": 217
}
2025-10-18 08:46:41 AM INFO: Auth header for POST /api/chat: Present 
2025-10-18 08:46:41 AM ERROR: Authentication failed for POST /api/chat: Redis client is not initialized. 
2025-10-18 08:46:41 AM WARN: POST /api/chat 401 3ms 
{
  "req": {
    "url": "/api/chat",
    "headers": {
      "content-type": "application/json",
      "user-agent": "PostmanRuntime/7.49.0",
      "accept": "*/*",
      "postman-token": "7c6142cf-bb0c-4015-b74a-53050c6abe14",
      "host": "localhost:3000",
      "accept-encoding": "gzip, deflate, br",
      "connection": "keep-alive",
      "content-length": "72"
    },
    "method": "POST",
    "httpVersion": "1.1",
    "originalUrl": "/api/chat",
    "query": {}
  },
  "res": {
    "statusCode": 401
  },
  "responseTime": 3
}
2025-10-18 08:56:05 AM INFO: Starting application in development environment 
2025-10-18 08:56:05 AM INFO: MongoDB connected 
2025-10-18 08:56:05 AM INFO: Redis client initialized 
2025-10-18 08:56:05 AM INFO: Redis connected 
2025-10-18 08:56:05 AM INFO: Swagger UI available at /api-docs 
2025-10-18 08:56:05 AM INFO: Express server initialized 
2025-10-18 08:56:05 AM INFO: Server is running on port 3000 
2025-10-18 08:56:32 AM INFO: Auth header for POST /api/chat: Present 
2025-10-18 08:56:32 AM INFO: Decoded token: {"id":"68f0d0caa420a41b12d89efb","isAdmin":false,"iat":1760773490,"exp":1760859890} 
2025-10-18 08:56:32 AM INFO: Authenticated userID: 68f0d0caa420a41b12d89efb for POST /api/chat 
2025-10-18 08:56:32 AM INFO: Cache cleared for keys: cache_POST_/api/chat_68f0d0caa420a41b12d89efb, cache_GET_/api/chat/history_68f0d0caa420a41b12d89efb 
2025-10-18 08:56:34 AM INFO: GeminiService: Response generated successfully. 
2025-10-18 08:56:34 AM INFO: createChat: User symptom appended to chat history. 
2025-10-18 08:56:41 AM INFO: GeminiService: Response generated successfully. 
2025-10-18 08:56:41 AM INFO: createChat: Response generated by Gemini: Brown stains on teeth can be caused by several factors, and the best way to remove them depends on the underlying cause. Here's a breakdown of possible causes and removal methods:

**Possible Causes of Brown Stains:**

*   **Food and Drinks:** Coffee, tea, red wine, soda, and certain fruits and vegetables (like berries) can stain teeth over time.
*   **Tobacco Use:** Smoking or chewing tobacco is a major cause of brown stains.
*   **Poor Oral Hygiene:** Inadequate brushing and flossing allow plaque and tartar to build up, which can lead to staining.
*   **Tartar Buildup:** Tartar (hardened plaque) can trap stains and make them more noticeable.
*   **Certain Medications:** Some medications, like tetracycline antibiotics (taken during tooth development), can cause intrinsic (internal) staining. Chlorhexidine mouthwash can also cause surface stains.
*   **Fluorosis:** Excessive fluoride intake during tooth development can cause white or brown spots on the teeth.
*   **Enamel Hypoplasia:** A defect in enamel formation can make teeth more susceptible to staining.
*   **Dental Caries (Cavities):** Early cavities can sometimes appear as brown spots on the teeth.

**Removal Methods:**

*   **Improved Oral Hygiene:**
    *   **Brushing:** Brush your teeth at least twice a day for two minutes each time, using a fluoride toothpaste.
    *   **Flossing:** Floss daily to remove plaque and food particles from between your teeth.
    *   **Mouthwash:** Use an antiseptic or fluoride mouthwash.
*   **Professional Dental Cleaning:**
    *   **Scaling and polishing:** A dental hygienist can remove plaque and tartar buildup with special instruments.
    *   **Air polishing:** A stream of air, water, and abrasive powder is used to remove surface stains.
*   **Whitening Toothpaste:**
    *   Over-the-counter whitening toothpastes contain mild abrasives that can help remove surface stains. Look for toothpastes with the ADA Seal of Acceptance.
*   **Professional Teeth Whitening:**
    *   **In-office whitening:** A dentist applies a high-concentration bleaching gel to your teeth and uses a special light to activate it. This is the most effective and fastest way to whiten teeth.
    *   **Take-home whitening kits:** Your dentist provides custom-fitted trays and a bleaching gel. You wear the trays for a specified amount of time each day for several weeks.
*   **Microabrasion:**
    *   This technique is used to remove superficial stains and discolorations, particularly those caused by fluorosis. A dentist uses a mild acid and an abrasive compound to gently remove the stained enamel layer.
*   **Dental Veneers:**
    *   Thin shells of porcelain or composite resin are bonded to the front of your teeth to cover stains, chips, or other imperfections. Veneers are a more permanent solution for severe staining.
*   **Dental Bonding:**
    *   A tooth-colored resin is applied to the teeth to cover stains, chips, or gaps. Bonding is a less expensive alternative to veneers.

**Important Considerations:**

*   **Consult a dentist:** The best way to determine the cause of your brown stains and the most appropriate treatment is to see a dentist.
*   **Avoid staining substances:** Limit your consumption of coffee, tea, red wine, and other staining foods and drinks. If you do consume them, rinse your mouth with water afterwards.
*   **Quit smoking:** Smoking is a major cause of tooth staining and other oral health problems.
*   **Regular dental checkups:** See your dentist for regular checkups and cleanings to prevent and treat dental problems early.

*Disclaimer: This information is not a substitute for professional medical advice. Always consult with a qualified healthcare provider for diagnosis and treatment of any medical condition.*
 
2025-10-18 08:56:41 AM INFO: createChat: Chat history updated in the database. 
2025-10-18 08:56:41 AM INFO: POST /api/chat 200 8855ms 
{
  "req": {
    "url": "/api/chat",
    "headers": {
      "content-type": "application/json",
      "user-agent": "PostmanRuntime/7.49.0",
      "accept": "*/*",
      "postman-token": "254953d1-a0f0-4b69-98ba-429f876f281c",
      "host": "localhost:3000",
      "accept-encoding": "gzip, deflate, br",
      "connection": "keep-alive",
      "content-length": "72"
    },
    "method": "POST",
    "httpVersion": "1.1",
    "originalUrl": "/api/chat",
    "query": {}
  },
  "res": {
    "statusCode": 200
  },
  "responseTime": 8855
}
2025-10-18 09:03:35 AM INFO: Auth header for GET /api/chat/history: Present 
2025-10-18 09:03:35 AM INFO: Decoded token: {"id":"68f0d0caa420a41b12d89efb","isAdmin":false,"iat":1760773490,"exp":1760859890} 
2025-10-18 09:03:35 AM INFO: Authenticated userID: 68f0d0caa420a41b12d89efb for GET /api/chat/history 
2025-10-18 09:03:35 AM INFO: Cache key for GET /api/chat/history: cache_GET_/api/chat/history_68f0d0caa420a41b12d89efb 
2025-10-18 09:03:35 AM INFO: Cache miss for key: cache_GET_/api/chat/history_68f0d0caa420a41b12d89efb 
2025-10-18 09:03:35 AM INFO: getChatHistory: Chat history retrieved for userID 68f0d0caa420a41b12d89efb. 
2025-10-18 09:03:35 AM INFO: GET /api/chat/history 200 29ms 
{
  "req": {
    "url": "/api/chat/history",
    "headers": {
      "content-type": "application/json",
      "user-agent": "PostmanRuntime/7.49.0",
      "accept": "*/*",
      "postman-token": "c1972b59-2cdd-4cdc-bcca-188de6dd5fb8",
      "host": "localhost:3000",
      "accept-encoding": "gzip, deflate, br",
      "connection": "keep-alive",
      "content-length": "72"
    },
    "method": "GET",
    "httpVersion": "1.1",
    "originalUrl": "/api/chat/history",
    "query": {}
  },
  "res": {
    "statusCode": 200
  },
  "responseTime": 29
}
2025-10-18 09:03:35 AM INFO: Cached response for key: cache_GET_/api/chat/history_68f0d0caa420a41b12d89efb 
